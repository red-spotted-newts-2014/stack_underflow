<% @question.tags.build if @question.tags.empty? %>
<% form_for(@question), url: {action: "create"} do |question_form| %>
  <p>
    <%= question_form.label :title, "title" %><br />
    <%= question_form.text_field :title %>
  </p>
  <p>
    <%= question_form.label :body %><br />
    <%= question_form.text_area :body %>
  </p>
  <h2>Tags</h2>
  <% question_form.fields_for :tags do |tag_form| %>
    <p>
      <%= tag_form.label :name, 'Tag:' %>
      <%= tag_form.text_field :name %>
    </p>
    <% unless tag_form.object.nil? || tag_form.object.new_record? %>
      <p>
        <%= tag_form.label :_destroy, 'Remove:' %>
        <%= tag_form.check_box :_destroy %>
      </p>
    <% end %>
  <% end %>

  <p>
    <%= question_form.submit "Save" %>
  </p>
<% end %>